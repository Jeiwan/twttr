<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>twttr.middleware documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Twttr</span> <span class="project-version">3.2.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>twttr</span></div></div></li><li class="depth-2 branch"><a href="twttr.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-2 branch"><a href="twttr.auth.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auth</span></div></a></li><li class="depth-2 current"><a href="twttr.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="twttr.middleware.html#var-parse-body"><div class="inner"><span>parse-body</span></div></a></li><li class="depth-1"><a href="twttr.middleware.html#var-wrap-auth"><div class="inner"><span>wrap-auth</span></div></a></li><li class="depth-1"><a href="twttr.middleware.html#var-wrap-body"><div class="inner"><span>wrap-body</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">twttr.middleware</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-parse-body"><h3>parse-body</h3><div class="usage"><code>(parse-body body headers &amp; json-options)</code></div><div class="doc"><pre class="plaintext">Parse `body` (a java.io.InputStream from an HTTP response) as JSON or a
string, depending on the Content-Type header.

If the Transfer-Encoding header is 'chunked', `body` is split on newlines,
empty lines are dropped, and the rest are parsed as individual JSON documents.

`json-options` is passed directly on to json/read(-str), after the default of
{:key-fn keyword}, and in the non-streaming case, {:eof-error? false}.</pre></div><div class="src-link"><a href="https://github.com/chbrown/twttr/blob/3.2.1/src/twttr/middleware.clj#L10">view source</a></div></div><div class="public anchor" id="var-wrap-auth"><h3>wrap-auth</h3><div class="usage"><code>(wrap-auth handler credentials)</code></div><div class="doc"><pre class="plaintext">Middleware for providing authentication. For basic credentials, this simply
sets the 'Authorization' header on requests. For stateful credential
collections, it finds appropriate credentials for each request and updates
the status on each response.</pre></div><div class="src-link"><a href="https://github.com/chbrown/twttr/blob/3.2.1/src/twttr/middleware.clj#L66">view source</a></div></div><div class="public anchor" id="var-wrap-body"><h3>wrap-body</h3><div class="usage"><code>(wrap-body handler &amp; json-options)</code></div><div class="doc"><pre class="plaintext">Middleware for parsing Twitter's REST/streaming API responses, returning
the result of `parse-body` and re-attaching the full response as metadata.

Call (.close (:body (meta response))) to stop an infinite stream.</pre></div><div class="src-link"><a href="https://github.com/chbrown/twttr/blob/3.2.1/src/twttr/middleware.clj#L41">view source</a></div></div></div></body></html>